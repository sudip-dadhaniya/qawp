!function(t,e,p){"use strict";var a={init:function(){a.loadDocumentCommonScripts(),a.loadSelect2FieldScripts(),a.loadSortableScripts(),a.loadKeyEventScripts(),a.loadToggleAndSwitch(),a.loadAttributesNames(),a.loadWizardImageUploader(),a.loadSettingImageUploader(),a.addNewQuestionHTML(),a.addNewOptionHTML(),a.removeQuestionHTML(),a.removeOptionHTML(),a.removeWizardOptionImage(),a.removeWizardSettingImage(),a.deleteSingleWizard(),a.deleteMultipleWizard(),a.submitAddNewWizard(),a.wizardCheckBoxChecked()},load:function(){t(".wp-color-picker-field").wpColorPicker(),t("<p/>",{class:"wpfp-help-block"}).appendTo(t("#wpfp_wizard_title")),t(p.body).on("input propertychange paste",".wpfp-field-required",function(e){t(this).val()?t(this).parent().removeClass("wpfp-has-error").find(".wpfp-help-block").empty():t(this).parent().addClass("wpfp-has-error").find(".wpfp-help-block").text(wpfpScriptObj.wpfp_validation_text)}),t(p.body).on("change",".wpfp-field-required",function(e){t(this).val()?t(this).parent().removeClass("wpfp-has-error").find(".wpfp-help-block").empty():t(this).parent().addClass("wpfp-has-error").find(".wpfp-help-block").text(wpfpScriptObj.wpfp_validation_text)}),wpfpScriptObj.wpfp_current_screen.match(/dotstore-/g)&&t('a[href="admin.php?page=wpfp-list"]').addClass("current").parent().addClass("current")},loadDocumentCommonScripts:function(){t(p.body).on("init_wpfp_tooltips",function(){t(".wpfp-help-tip").tipTip({attribute:"data-tip",fadeIn:50,fadeOut:50,delay:200}).css("cursor","help")}),t(p.body).trigger("init_wpfp_tooltips"),t("#tiptip_holder").removeAttr("style"),t("#tiptip_arrow").removeAttr("style"),t(".wpfp-tips").tipTip({attribute:"data-tip",fadeIn:50,fadeOut:50,delay:200})},loadSelect2FieldScripts:function(){t("#result_display_mode, #question_type, #attribute_value, .wpfp-product-categories").selectWoo(a.wpfpSelectWooScript()).addClass("enhanced")},loadSortableScripts:function(){t(".wpfp-option-header-title").sortable({handle:".wpfp-tips"}),t(".wpfp-question-main-listing").sortable({handle:".wpfp-tips"})},loadKeyEventScripts:function(){t(p).on("keyup","#question_name",function(){var e=wpfpScriptObj.wpfp_question_configuration_text;""!==t(this).val()&&(e=t(this).val()),t(this).closest(".wpfp-question-wrapper").parent().find(".wpfp-question-header").text(e)}),t(p).on("keyup","#option_name",function(){var e=wpfpScriptObj.wpfp_option_text;""!==t(this).val()&&(e=t(this).val()),t(this).closest(".wpfp-option-wrapper").parent().find(".wpfp-option-header").text(e)})},loadToggleAndSwitch:function(){t(p).on("click",".wpfp-question-toggle",function(e){var p=t(this).data("toggle");t("#"+p).slideToggle().parent().toggleClass("wpfp-question-toggle-open")}),t(p).on("click",".wpfp-option-toggle",function(){var e=t(this).data("toggle");t("#"+e).slideToggle().parent().toggleClass("wpfp-option-toggle-open")}),t(p).on("change",".wpfp-switch-input",function(e){t(this).prop("checked")?(t('input[type="checkbox"]').prop("checked",!0),t(".wpfp-switch").addClass("-on")):(t('input[type="checkbox"]').prop("checked",!1),t(".wpfp-switch").removeClass("-on"))})},loadAttributesNames:function(){t(":input.attribute-name").filter(":not(.enhanced)").each(function(e){var p={allowClear:!!t(this).data("allow-clear"),placeholder:t(this).data("placeholder"),minimumInputLength:t(this).data("minimum-input-length")?t(this).data("minimum-input-length"):1};p=t.extend(p,a.wpfpSelectWooScript(!0)),t(this).selectWoo(p).addClass("enhanced")}),t(p).on("change","#attribute_name",function(e){var p,i,o=a.getWizardId(),n=t(this).attr("data-question-id"),r=t(this).attr("data-option-id"),d=t(this).find(":selected").attr("data-value"),l="div#wpfp-option-wrapper-"+o+"-"+n+"-"+r;t(l).find("#attribute_value").empty(),d&&(i=d.split("|"),t.each(i,function(e,a){(p=t("<option></option>")).val(a.trim()),p.text(a.trim()),p.appendTo(t(l).find("#attribute_value"))}))})},loadWizardImageUploader:function(){t(p).on("click","#option_uploader_image_id",function(e){var p,i=a.getWizardId(),o=t(this).attr("data-question-id"),n=t(this).attr("data-option-id");e.preventDefault(),p={title:t(this).attr("data-uploader-title"),text:t(this).attr("data-uploader-button-text"),inputTagName:"wpfp[options][image_id]["+i+"]["+o+"]["+n+"]",inputTagID:"wpfp[options][image_id]["+i+"]["+o+"]["+n+"]",imgSelector:"div#wpfp-option-wrapper-"+i+"-"+o+"-"+n},a.wpfpImageUploader(p)})},loadSettingImageUploader:function(){t(p).on("click","#question_background_uploader_image_id",function(e){var p;e.preventDefault(),p={title:t(this).attr("data-uploader-title"),text:t(this).attr("data-uploader-button-text"),inputTagName:"wpfp_wizard_setting[questions_background_image_id]",inputTagID:"questions_background_image_id",imgSelector:".question_background_image_section"},a.wpfpImageUploader(p)})},getWizardId:function(){return t("#wizard_post_id").val()},addNewQuestionHTML:function(){t(p).on("click",".add-new-question",function(e){var p,i,o,n,r,d,l,s,c,u,f,w,_,m,g,T,h,v,b,x,q,S=t(".wpfp-question-main-listing"),I=a.getWizardId(),O=parseInt(S.attr("data-question-listed"))+1,D="wpfp_btn_toggle_"+I+"_"+O,L="wpfp-question-wrapper-"+I+"-"+O,k="wpfp_remove_option_"+I+"_"+O,y="wpfp-question-main-wrapper-"+I+"-"+O,j=O,H="wpfp-option-header-title-"+I+"-"+O,M="wpfp[questions][name]["+I+"]["+O+"]",z="wpfp[questions][question_type]["+I+"]["+O+"]",C="wpfp[questions][key]["+I+"]["+O+"]";if(e.preventDefault(),m={class:"wpfp-question-main-wrapper",id:y,dataQuestionID:O},p=a.createDivTagHTML(S,m),i=t("<h2/>"),t("<span/>",{text:wpfpScriptObj.wpfp_question_configuration_text,class:"wpfp-question-header"}).appendTo(i),i.appendTo(p),T={class:"wpfp-question-delete delete",href:"javascript:void(0)",id:k,text:wpfpScriptObj.wpfp_delete_text,dataQuestionID:O},a.createATagHTML(i,T),g={class:"handlediv wpfp-question-toggle toggle",href:"javascript:void(0)",id:D,ariaLabelText:wpfpScriptObj.wpfp_toggle_arial_label_text,dataToggle:L},a.createATagHTML(i,g),m={class:"wpfp-tips wpfp-question-tips wpfp-sort"},a.createDivTagHTML(i,m),m={class:"wpfp-question-wrapper",id:L},o=a.createDivTagHTML(p,m),q={class:"form-table table-outer question-table all-table-listing"},n=a.createTableTagHTML(o,q),r=t("<tbody/>").appendTo(n),d={wpfpLabelFor:"question_name",wpfpLabelText:wpfpScriptObj.wpfp_question_name_text,wpfpIsRequired:!0},l={inputType:"text",inputClass:"text-class half_width wpfp-field-required",inputID:"question_name",inputName:M,inputRequired:!0,inputPlaceHolder:wpfpScriptObj.wpfp_question_name_input_placeholder_text,inputHiddenField:{type:"hidden",name:C,id:"question_field_key",value:a.uniqID("question_field_")}},s={dataTipText:wpfpScriptObj.wpfp_question_name_description_text},a.createTrTagHTML(r,d,l,s),d={wpfpLabelFor:"question_type",wpfpLabelText:wpfpScriptObj.wpfp_question_type_text},l={inputType:"select",inputClass:"",inputID:"question_type",inputName:z,wpfpSelect2:!0,dataSearch:wpfpScriptObj.wpfp_question_type_search_infinity_text,selectOption:{radio:wpfpScriptObj.wpfp_question_type_text_option_radio,checkbox:wpfpScriptObj.wpfp_question_type_text_option_checkbox}},s={dataTipText:wpfpScriptObj.wpfp_question_type_description_text},a.createTrTagHTML(r,d,l,s),m={class:"wpfp-option-header-title",id:H,dataOptionListed:1},c=a.createDivTagHTML(o,m),1,k="wpfp_remove_option_"+I+"_"+O+"_1",D="wpfp_btn_toggle_"+I+"_"+O+"_1",L="wpfp-option-wrapper-"+I+"-"+O+"-1",f="wpfp-options-box-"+I+"-"+O+"-1",h={text:wpfpScriptObj.wpfp_manage_option_text,class:"wpfp-manage-option-h3"},u=a.createH3TagHTML(c,h),v={class:"wpfp-btn wpfp-add-new-option",href:"javascript:void(0)",id:D,text:wpfpScriptObj.wpfp_add_new_option_text,dataQuestionToggleID:j},a.createATagHTML(u,v),m={class:"wpfp-options-box",id:f,dataOptionID:1},w=a.createDivTagHTML(c,m),h={text:wpfpScriptObj.wpfp_option_text,wpfpWrap:!0},u=a.createH3TagHTML(w,h),x={class:"wpfp-option-delete delete",href:"javascript:void(0)",id:k,text:wpfpScriptObj.wpfp_delete_text,dataQuestionID:O,dataOptionID:1},a.createATagHTML(u,x),b={class:"handlediv wpfp-option-toggle toggle",href:"javascript:void(0)",id:D,dataToggle:L},a.createATagHTML(u,b),m={class:"wpfp-tips wpfp-option-tips wpfp-sort"},a.createDivTagHTML(u,m),m={class:"wpfp-option-wrapper",id:L,dataQuestionID:O,dataOptionID:1},_=a.createDivTagHTML(w,m),q={class:"form-table table-outer product-fee-table",id:"option_section"},n=a.createTableTagHTML(_,q),a.createOptionHTML(n,I,O,1),S.attr("data-question-listed",O),a.loadSortableScripts(),"false"===wpfpScriptObj.can_use_premium_code&&1<parseInt(t(".wpfp-question-main-listing .wpfp-question-main-wrapper").length))return t(this).addClass("button-primary wpfp-list-button is_disabled"),!1})},addNewOptionHTML:function(){t(p).on("click",".wpfp-add-new-option",function(e){var p,i,o,n,r,d,l,s,c,u=t(this).data("question-toggle-id"),f=a.getWizardId(),w=t("div#wpfp-option-header-title-"+f+"-"+u),_=parseInt(w.attr("data-option-listed"))+1,m="wpfp_btn_toggle_"+f+"_"+u+"_"+_,g="wpfp-option-wrapper-"+f+"-"+u+"-"+_,T="wpfp_remove_option_"+f+"_"+u+"_"+_;r={class:"wpfp-options-box",id:"wpfp-options-box-"+f+"-"+u+"-"+_,dataOptionID:_},o=a.createDivTagHTML("div#wpfp-question-main-wrapper-"+f+"-"+u+" .wpfp-option-header-title",r),d={text:wpfpScriptObj.wpfp_option_text,wpfpWrap:!0},i=a.createH3TagHTML(o,d),r={class:"wpfp-option-wrapper",id:g,dataQuestionID:u,dataOptionID:_},n=a.createDivTagHTML(o,r),s={class:"wpfp-option-delete delete",href:"javascript:void(0)",id:T,text:wpfpScriptObj.wpfp_delete_text,dataQuestionID:u,dataOptionID:_},a.createATagHTML(i,s),l={class:"handlediv wpfp-option-toggle toggle",href:"javascript:void(0)",id:m,dataToggle:g},a.createATagHTML(i,l),r={class:"wpfp-tips wpfp-option-tips wpfp-sort"},a.createDivTagHTML(i,r),c={class:"form-table table-outer product-fee-table",id:"option_section"},p=a.createTableTagHTML(n,c),a.createOptionHTML(p,f,u,_),w.attr("data-option-listed",_),a.loadSortableScripts()})},createOptionHTML:function(e,i,o,n){var r,d,l,s=t("<tbody/>").appendTo(e),c="wpfp[options][name]["+i+"]["+o+"]["+n+"]",u="wpfp[options][attribute_name]["+i+"]["+o+"]["+n+"]",f="wpfp[options][attribute_value]["+i+"]["+o+"]["+n+"]",w="wpfp[options][key]["+i+"]["+o+"]["+n+"]";r={wpfpLabelFor:"option_title",wpfpLabelText:wpfpScriptObj.wpfp_option_title_text,wpfpIsRequired:!0},d={inputType:"text",inputClass:"text-class half_width wpfp-field-required",inputID:"option_name",inputName:c,inputRequired:!0,inputPlaceHolder:wpfpScriptObj.wpfp_option_title_input_placeholder_text,inputHiddenField:{type:"hidden",name:w,id:"option_field_key",value:a.uniqID("option_field_")}},l={dataTipText:wpfpScriptObj.wpfp_option_title_description_text},a.createTrTagHTML(s,r,d,l),r={wpfpLabelFor:"option_uploader",wpfpLabelText:wpfpScriptObj.wpfp_option_image_text},d="true"===wpfpScriptObj.can_use_premium_code?{inputType:"a",elementCount:2,aTagElement:{aTag1:{class:"option_uploader_image button",id:"option_uploader_image_id",aTagUploaderTitle:wpfpScriptObj.wpfp_option_image_uploader_title_text,aTagUploaderButtonText:wpfpScriptObj.wpfp_option_image_uploader_button_text,aTagUploaderName:"option_single_upload_file",text:wpfpScriptObj.wpfp_option_image_uploader_text},aTag2:{class:"option_remove_image button",id:"option_remove_image_id",aTagUploaderName:"option_single_upload_file",text:wpfpScriptObj.wpfp_option_image_remove_text}},dataQuestionID:o,dataOptionID:n,previewElement:!0}:{inputType:"a",elementCount:2,aTagElement:{aTag1:{isDisabled:!0,class:"is_disabled button",text:wpfpScriptObj.wpfp_option_image_uploader_text},aTag2:{isDisabled:!0,class:"is_disabled button",text:wpfpScriptObj.wpfp_option_image_remove_text}},dataQuestionID:o,dataOptionID:n,previewElement:!0},l={dataTipText:wpfpScriptObj.wpfp_option_image_description_text},a.createTrTagHTML(s,r,d,l),r={wpfpLabelFor:"attribute_name",wpfpLabelText:wpfpScriptObj.wpfp_option_attribute_name_text,wpfpIsRequired:!0},d={inputType:"select",inputClass:"attribute-name wpfp-field-required",inputID:"attribute_name",inputPlaceHolder:wpfpScriptObj.wpfp_option_attribute_name_placeholder_text,inputName:u,inputRequired:!0,selectOption:{},wpfpSelect2Ajax:!0,inputMinimumInputLenght:3,inputAllowClear:!0,nonceSecurity:wpfpScriptObj.wpfp_script_nonce,dataQuestionID:o,dataOptionID:n},l={dataTipText:wpfpScriptObj.wpfp_option_attribute_name_description_text},a.createTrTagHTML(s,r,d,l),r={wpfpLabelFor:"attributr_value",wpfpLabelText:wpfpScriptObj.wpfp_option_attribute_value_text,wpfpIsRequired:!0},d={inputType:"select",inputClass:"attribute-value wpfp-field-required",inputID:"attribute_value",inputPlaceHolder:wpfpScriptObj.wpfp_option_attribute_value_placeholder_text,inputName:f,wpfpSelect2:!0,inputRequired:!0,multiple:!0,dataQuestionID:o,dataOptionID:n},l={dataTipText:wpfpScriptObj.wpfp_option_attribute_value_description_text},a.createTrTagHTML(s,r,d,l),t(p.body).trigger("init_wpfp_tooltips")},createTableTagHTML:function(e,p){var a=t("<table/>");return void 0!==p.class&&a.attr("class",p.class),void 0!==p.id&&a.attr("id",p.id),a.appendTo(e)},createTrTagHTML:function(e,p,i,o){var n,r,d;n=t("<tr/>").appendTo(e),r=t("<th/>",{class:"titledesc"}).appendTo(n),d=!0===i.inputRequired?t("<td/>",{class:"forminp mdtooltip wpfp-required"}).appendTo(n):t("<td/>",{class:"forminp mdtooltip"}).appendTo(n),a.createThTagHTML(r,p),a.createTdTahHTML(d,i,o)},createThTagHTML:function(e,p){var a=t("<label/>",{for:p.wpfpLabelFor,text:p.wpfpLabelText}).appendTo(e);!0===p.wpfpIsRequired&&t("<span/>",{class:"required-star",text:"*"}).appendTo(a)},createTdTahHTML:function(e,p,i){var o,n,r,d,l,s;void 0!==p.inputType&&("text"===p.inputType?(o=t("<input/>"),void 0!==p.inputType&&o.attr("type",p.inputType),void 0!==p.inputName&&o.attr("name",p.inputName),void 0!==p.inputClass&&o.attr("class",p.inputClass),void 0!==p.inputID&&o.attr("id",p.inputID),void 0!==p.inputRequired&&o.attr("placeholder",p.inputPlaceHolder),void 0!==p.inputHiddenField&&t("<input/>",p.inputHiddenField).appendTo(e),o.appendTo(e)):"select"===p.inputType?(n=t("<select/>").appendTo(e),void 0!==p.inputName&&(void 0!==p.multiple?(n.attr("multiple",p.multiple),n.attr("name",p.inputName+"[]")):n.attr("name",p.inputName)),void 0!==p.inputID&&n.attr("id",p.inputID),void 0!==p.inputClass&&n.attr("class",p.inputClass),void 0!==p.inputPlaceHolder&&(n.attr("data-placeholder",p.inputPlaceHolder),r={placeholder:p.inputPlaceHolder}),void 0!==p.inputMinimumInputLenght&&(n.attr("data-minimum-input-length",p.inputMinimumInputLenght),r={minimumInputLength:p.inputMinimumInputLenght?p.inputMinimumInputLenght:"1"}),void 0!==p.inputAllowClear&&(n.attr("data-allow-clear",p.inputAllowClear),r={allowClear:p.inputAllowClear}),void 0!==p.inputRequired&&n.attr("required",p.inputRequired),void 0!==p.nonceSecurity&&n.attr("data-nonce",p.nonceSecurity),void 0!==p.dataQuestionID&&n.attr("data-question-id",p.dataQuestionID),void 0!==p.dataOptionID&&n.attr("data-option-id",p.dataOptionID),void 0!==p.dataSearch&&n.attr("data-minimum-results-for-search",p.dataSearch),n.appendTo(e),void 0!==p.selectOption&&t.each(p.selectOption,function(e,p){"false"===wpfpScriptObj.can_use_premium_code&&"checkbox"===e?t("<option></option>",{value:e,text:p,disabled:!0}).appendTo(n):t("<option></option>",{value:e,text:p}).appendTo(n)}),!0===p.wpfpSelect2Ajax&&(r=t.extend(r,a.wpfpSelectWooScript(!0)),n.selectWoo(r).addClass("enhanced")),!0===p.wpfpSelect2&&(r=t.extend(r,a.wpfpSelectWooScript()),n.selectWoo(r).addClass("enhanced"))):"a"===p.inputType&&void 0!==p.elementCount&&(l={class:"wpfp-uploader-wrapper",dataQuestionID:p.dataQuestionID,dataOptionID:p.dataOptionID},d=a.createDivTagHTML(e,l),s={dataQuestionID:p.dataQuestionID,dataOptionID:p.dataOptionID},1<p.elementCount&&t.each(p.aTagElement,function(e){p.aTagElement[e]=t.extend(!0,p.aTagElement[e],s),a.createATagHTML(d,p.aTagElement[e])}),p.previewElement&&(t("<span/>",{class:"wpfp-help-tip","data-tip":i.dataTipText}).appendTo(d),d.appendTo(e),l={class:"wpfp-image-preview",id:"wpfp-image-preview",dataQuestionID:p.dataQuestionID,dataOptionID:p.dataOptionID},a.createDivTagHTML(e,l))),"a"!==p.inputType&&(t("<span/>",{class:"wpfp-help-tip","data-tip":i.dataTipText}).appendTo(e),void 0!==p.inputRequired&&t("<p/>",{class:"wpfp-help-block"}).appendTo(e)))},createATagHTML:function(e,p){var a=t("<a/>");void 0!==p.text&&a.text(p.text),void 0!==p.class&&a.attr("class",p.class),void 0!==p.href&&a.attr("href",p.href),void 0!==p.id&&a.attr("id",p.id),void 0!==p.isDisabled&&a.attr("disabled",p.isDisabled),void 0!==p.dataToggle&&a.attr("data-toggle",p.dataToggle),void 0!==p.dataQuestionToggleID&&a.attr("data-question-toggle-id",p.dataQuestionToggleID),void 0!==p.aTagUploaderTitle&&a.attr("data-uploader-title",p.aTagUploaderTitle),void 0!==p.aTagUploaderButtonText&&a.attr("data-uploader-button-text",p.aTagUploaderButtonText),void 0!==p.aTagUploaderName&&a.attr("data-uploadname",p.aTagUploaderName),void 0!==p.dataQuestionID&&a.attr("data-question-id",p.dataQuestionID),void 0!==p.dataOptionID&&a.attr("data-option-id",p.dataOptionID),void 0!==p.ariaLabelText&&a.attr("aria-label",p.ariaLabelText),a.appendTo(e)},createH3TagHTML:function(e,p){var a=t("<h3/>"),i=t("<span/>",{class:"wpfp-option-header"});return void 0!==p.text&&!0===p.wpfpWrap?(i.text(p.text),i.appendTo(a)):void 0!==p.text&&a.text(p.text),void 0!==p.class&&a.attr("class",p.class),a.appendTo(e)},createDivTagHTML:function(e,p,a=!0){var i=t("<div/>");if(void 0!==p.class&&i.attr("class",p.class),void 0!==p.id&&i.attr("id",p.id),void 0!==p.dataQuestionID&&i.attr("data-question-id",p.dataQuestionID),void 0!==p.dataOptionID&&i.attr("data-option-id",p.dataOptionID),void 0!==p.dataOptionListed&&i.attr("data-option-listed",p.dataOptionListed),!0===a)return i.appendTo(e)},removeQuestionHTML:function(){t(p).on("click",".wpfp-question-delete",function(e){var p=a.getWizardId(),i=t(this).attr("data-question-id");confirm(wpfpScriptObj.wpfp_option_image_remove_alert_text)&&(e.preventDefault(),t("div#wpfp-question-main-wrapper-"+p+"-"+i).remove(),"false"===wpfpScriptObj.can_use_premium_code&&1>=parseInt(t(".wpfp-question-main-listing .wpfp-question-main-wrapper").length)&&t(".wpfp-manage-question-h2 a").removeClass("button-primary wpfp-list-button is_disabled"))})},removeOptionHTML:function(){t(p).on("click",".wpfp-option-delete",function(e){var p=a.getWizardId(),i=t(this).attr("data-question-id"),o=t(this).attr("data-option-id");e.preventDefault(),t("div#wpfp-question-main-wrapper-"+p+"-"+i+" #wpfp-options-box-"+p+"-"+i+"-"+o).remove()})},removeWizardOptionImage:function(){t(p).on("click","#option_remove_image_id",function(e){var p=a.getWizardId(),i=t(this).attr("data-question-id"),o=t(this).attr("data-option-id");t("div#wpfp-option-wrapper-"+p+"-"+i+"-"+o).find(".wpfp-image-preview").empty()})},removeWizardSettingImage:function(){t(p).on("click","#question_background_remove_image_id",function(e){confirm(wpfpScriptObj.wpfp_option_image_remove_alert_text)&&(t(".question_background_image_section").find(".wpfp-image-preview").empty(),t(this).remove())})},deleteSingleWizard:function(){t(p).on("click",".delete_single_selected_wizard",function(t){if(!1===confirm(wpfpScriptObj.wpfp_wizard_delete_alert_text))return t.preventDefault(),!1})},deleteMultipleWizard:function(){t(p).on("click","#detete_all_selected_wizard",function(e){!0===confirm(wpfpScriptObj.wpfp_wizard_delete_alert_text)&&t("#wpfp-wizard-list-form").submit()})},submitAddNewWizard:function(){t(p).on("click","#submit_wizard",function(){var e=!0;return t(t(this).closest(".wpfp-wizard-form").find(".wpfp-field-required")).each(function(p,a){var i=t(this).closest(".wpfp-wizard-form"),o=t(this).attr("name"),n=t(this).prop("type"),r=t("#wizard_post_id").val(),d='input[name="'+o+'"]',l='select[name="'+o+'"]',s=t(this).closest(".wpfp-wizard-form").find(d).closest(".wpfp-question-main-wrapper").attr("data-question-id"),c=t(this).closest(".wpfp-wizard-form").find(d).closest(".wpfp-options-box").attr("data-option-id"),u="#wpfp-question-main-wrapper-"+r+"-"+s,f="#wpfp-options-box-"+r+"-"+s+"-"+c,w="#wpfp-options-box-"+r+"-"+t(this).closest(".wpfp-wizard-form").find(l).closest(".wpfp-question-main-wrapper").attr("data-question-id")+"-"+t(this).closest(".wpfp-wizard-form").find(l).closest(".wpfp-options-box").attr("data-option-id"),_=!1,m=!1,g=t(d).val(),T=i.find(d).closest(".wpfp-required"),h=i.find(l).closest(".wpfp-required");-1!==o.indexOf("questions")&&(_=!0),-1!==o.indexOf("options")&&(m=!0),""===t(this).val()?(void 0!==s&&""===g&&!0===_?i.find(d).closest(u).addClass("wpfp-has-box-error wpfp-has-question-box-error"):void 0!==s&&void 0!==c&&""===g&&!0===m?i.find(d).closest(f).addClass("wpfp-has-box-error wpfp-has-option-box-error"):i.find(d).addClass("wpfp-has-box-error"),T.addClass("wpfp-has-error").find(".wpfp-help-block").text(wpfpScriptObj.wpfp_validation_text),e=!1):(void 0!==s&&""!==g&&!0===_?i.find(d).closest(u).removeClass("wpfp-has-box-error wpfp-has-question-box-error"):void 0!==s&&void 0!==c&&""!==g&&!0===m?i.find(d).closest(f).removeClass("wpfp-has-box-error wpfp-has-option-box-error"):i.find(d).removeClass("wpfp-has-box-error"),T.removeClass("wpfp-has-error").find(".wpfp-help-block").empty()),"select-one"!==n&&"select-multiple"!==n||(null===t(l).val()&&t(l).attr("required")?(h.addClass("wpfp-has-error").find(".wpfp-help-block").text(wpfpScriptObj.wpfp_validation_text),i.find(l).closest(w).addClass("wpfp-has-box-error wpfp-has-option-box-error"),e=!1):(h.removeClass("wpfp-has-error").find(".wpfp-help-block").empty(),i.find(l).closest(w).removeClass("wpfp-has-box-error wpfp-has-option-box-error")))}),!1!==e&&e})},wpfpImageUploader:function(e){var p,a,i;p?p.open():((p=wp.media.frames.wpfpFileFrame=wp.media({title:e.title,button:{text:e.text},library:{type:["image"]},multiple:!1})).on("select",function(){var o=p.state().get("selection").first().toJSON(),n=o.filename,r=n.substr(n.lastIndexOf(".")+1);""!==o.url&&(-1===t.inArray(r,["gif","png","jpg","jpeg"])?alert(wpfpScriptObj.wpfp_image_required_format_text):(a=t("<img/>",{src:o.url,"data-id":o.id,alt:o.alt?o.alt:o.title,width:"100px",height:"100px"}),i=t("<input/>",{type:"hidden",name:e.inputTagName,id:e.inputTagID,value:o.id}),t("#question_background_remove_image_id").remove(),t("<a>",{class:"option_single_remove_file button",id:"question_background_remove_image_id",text:wpfpScriptObj.wpfp_option_image_remove_text,"data-uploadname":"question_background_upload_file"}).insertAfter("#question_background_uploader_image_id"),t(e.imgSelector).find(".wpfp-image-preview").empty(),a.appendTo(t(e.imgSelector).find(".wpfp-image-preview")),i.appendTo(t(e.imgSelector).find(".wpfp-image-preview"))))}),p.open())},wpfpSelectWooScript:function(e=!1){var p,i;return!0!==e?{escapeMarkup:function(t){return t}}:{escapeMarkup:function(t){return t},templateSelection:function(e){return e.id&&((i=e.id.split(","))[0]&&t(e.element).val(i[0]),i[1]&&t(e.element).attr("data-name",i[1]),i[2]&&t(e.element).attr("data-value",i[2])),e.text},ajax:{url:wpfpScriptObj.wpfp_ajax_url,dataType:"json",delay:1e3,data:function(e){return{searchQueryParameter:e.term,action:"wpfp_search_attribute_name",wizardID:a.getWizardId(),security:t(this).data("nonce")}},processResults:function(e,a){return p=[],e&&t.each(e,function(t,e){p.push({id:e.value+","+e.data_name+","+e.data_value,text:e.label})}),{results:p}},cache:!0}}},wizardCheckBoxChecked:function(){t(".chk_all_wizard_class").on("click",function(){t("input.chk_single_wizard:checkbox").not(this).prop("checked",this.checked),!0===this.checked?t("#detete_all_selected_wizard").removeAttr("disabled"):t("#detete_all_selected_wizard").attr("disabled",!0)}),t(".chk_single_wizard").on("click",function(){var e=!1,p=t("input.chk_single_wizard:checked");p.each(function(t,p){!0===p.checked&&(e=!0)}),t("input.chk_single_wizard").length===p.length?t("input.chk_all_wizard_class").prop("checked",!0):t("input.chk_all_wizard_class").prop("checked",!1),!0===e?t("#detete_all_selected_wizard").removeAttr("disabled"):(t("#detete_all_selected_wizard").attr("disabled",!0),t("input.chk_all_wizard_class").prop("checked",this.checked))})}},i="";a.uniqID=function(t,e){var p,a;return void 0===t&&(t=""),a=function(t,e){return e<(t=parseInt(t,10).toString(16)).length?t.slice(t.length-e):e>t.length?Array(e-t.length+1).join("0")+t:t},i||(i=Math.floor(123456789*Math.random())),i++,p=t,p+=a(parseInt((new Date).getTime()/1e3,10),8),p+=a(i,5),e&&(p+=(10*Math.random()).toFixed(8).toString()),p},t(p).ready(a.init),t(e).on({load:a.load,resize:a.resize,scroll:a.scroll})}(jQuery,window,document);