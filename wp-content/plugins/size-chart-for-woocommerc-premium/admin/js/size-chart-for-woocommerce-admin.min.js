! function(s, e, a){'use strict';var t,
i={init: function(){i.loadChartCategorySelect2(), i.loadProductChartSelect2(), i.loadColorPicker(), i.loadPreviewSizeChart(), i.loadSizeChartProductMetaColumn(), i.loadSizeChartProductMetaAjax(), i.deleteSizeChartImage(), i.closeSizeChartModal(), i.requiredSizeChartTitle();}, loadChartCategorySelect2: function(){s('#chart-categories').select2({maximumSelectionLength: 100});}, loadProductChartSelect2: function(){s(':input#prod-chart').filter(':not(.enhanced)').each(function(){var a=[],
e={allowClear: !! s(this).data('allow_clear'), placeholder: s(this).data('placeholder'), minimumInputLength: s(this).data('minimum_input_length')?s(this).data('minimum_input_length'):'1', escapeMarkup: function(e){return e;}, ajax: {url: sizeChartScriptObject.size_chart_admin_url, dataType: 'json', delay: 1e3, data: function(e){return {searchQueryParameter: e.term, action: 'size_chart_search_chart', security: s(this).data('nonce'), exclude: s(this).data('exclude')};}, processResults: function(e){return a=[], e&&s.each(e, function(e, t){a.push({id: e, text: t});}), {results: a};}, cache: ! 0}};s(this).selectWoo(e).addClass('enhanced');});}, loadColorPicker: function(){s('#color-picker1,#color-picker2,#color-picker3,#color-picker4,#color-picker5,#color-picker6').wpColorPicker();}, loadPreviewSizeChart: function(){s('a.preview_chart').click(function(){var e,
t=s(this).attr('id');s('.size-chart-model').css('padding', '0'), s('#wait').show(), s('[data-remodal-id=modal]').html(''), e={action: 'size_chart_preview_post', chartID: t, security: sizeChartScriptObject.size_chart_nonce}, s.ajax({type: 'GET', url: sizeChartScriptObject.size_chart_admin_url, data: e, beforeSend: function(){s('#wait').css('position', 'fixed').show();}, complete: function(){s('#wait').hide();}, success: function(e){var t=s.parseJSON(e);1===t.success?(s('.size-chart-model').css('padding', '35px'), a.getElementById('md-size-chart-modal').style.display='block', s('#md-poup').after(t.html), s('#size-chart-for-woocommerce-inline-css').text(t.css)):alert('size-chart-for-woocommerc-premium==>'+t.msg);}});});}, loadSizeChartProductMetaColumn: function(){s('#size-chart-menu-settings-column').bind('click', function(e){var t, a,
i=s(e.target);i.hasClass('nav-tab-link')&&(t=i.data('type'), a=i.parents('.size-chart-accordion-section-content').first(), s('input', a).removeAttr('checked'), s('.tabs-panel-active', a).removeClass('tabs-panel-active').addClass('tabs-panel-inactive'), s('#'+t, a).removeClass('tabs-panel-inactive').addClass('tabs-panel-active'), s('.tabs', a).removeClass('tabs'), i.parent().addClass('tabs'), s('.quick-search', a).focus(), a.find('.tabs-panel-active .menu-item-title').length?a.removeClass('has-no-menu-item'):a.addClass('has-no-menu-item'), e.preventDefault());});}, loadSizeChartProductMetaAjax: function(){s('div#tabs-panel-posttype-size-chart-all').on('click', 'ul.pagination li a.page-numbers', function(e){var t, a, i, c, r;e.preventDefault(), t={action: 'size_chart_product_assign', pageNumber: s(this).data('page-number'), postID: s(this).data('post-id'), postPerPage: s(this).data('post-per-page'), security: s(this).parent().parent().data('nonce')}, s.ajax({type: 'GET', url: sizeChartScriptObject.size_chart_admin_url, data: t, dataType: 'json', beforeSend: function(){}, complete: function(){}, success: function(e){! 0===e.success&&(s('ul#size-chart-checklist-all').empty(), s.each(e.found_products, function(e, t){a=s('<li/>'), s('<a />', {href: t.href.replace('&#038;', '&'), text: t.title}).appendTo(a), a.appendTo('ul#size-chart-checklist-all');}), s('nav.pagination-box ul.pagination').empty(), s.each(e.load_pagination, function(e, t){i=s('<li/>'), 'number'===t.pagination_mode?c='span'===t.pagination_tag?s('<span />', {class: 'page-numbers '+t.pagination_class, text: t.page_text}):(r='page-numbers ', ''!==t.pagination_class&&(r+=t.pagination_class), s('<a />', {href: 'javascript:void(0);', class: r, text: t.page_text, 'data-post-id': t.post_id, 'data-post-per-page': t.post_per_page, 'data-page-number': t.page_number})):'dots'===t.pagination_mode&&(c=s('<span />', {class: 'page-numbers '+t.pagination_class, text: t.page_text})), c.appendTo(i), i.appendTo('nav.pagination-box ul.pagination');}));}});}), s('div#tabs-panel-posttype-size-chart-search').on('input', '.quick-search', function(){var r=s(this);r.attr('autocomplete', 'off'), t&&clearTimeout(t), t=setTimeout(function(){var e, t, a, i,
c=r.val();2>c.length||(e=r.parents('.tabs-panel'), t={action: 'size_chart_quick_search_products', security: r.data('nonce'), postType: r.data('post_type'), searchQueryParameter: c, type: r.attr('name')}, s.ajax({type: 'GET', url: sizeChartScriptObject.size_chart_admin_url, data: t, dataType: 'json', beforeSend: function(){s('.quick-search-wrap .spinner', e).show().addClass('is-active');}, complete: function(){s('.quick-search-wrap .spinner', e).hide().removeClass('is-active');}, success: function(e){s('ul#size-chart-search-checklist').empty(), ! 0===e.success?s.each(e.found_products, function(e, t){a=s('<li/>').appendTo('ul#size-chart-search-checklist'), i=s('<label />', {for: 'size-chart-product-'+e, text: t.title}), s('<input />', {type: 'checkbox', id: 'size-chart-product-'+e, value: t.id, class: 'product-item-checkbox', name: 'product-item['+t.id+']'}).prependTo(i), i.appendTo(a);}):(a=s('<li/>').appendTo('ul#size-chart-search-checklist'), (i=s('<p />', {text: e.msg})).appendTo(a));}}));}, 500);});}, deleteSizeChartImage: function(){s('a.delete-chart-image').click(function(){var e={action: 'size_chart_delete_image', postID: s(this).attr('id'), security: sizeChartScriptObject.size_chart_nonce};s.ajax({type: 'GET', url: sizeChartScriptObject.size_chart_admin_url, data: e, beforeSend: function(){s('#wait').show(), s('#wait').css('position', 'fixed');}, complete: function(){s('#wait').hide();}, success: function(e){var t=s.parseJSON(e);1===t.success&&(s('#field-image img').attr('src', t.url), s('#field-image img').attr('width', ''), s('#field-image img').attr('height', ''), s('#primary-chart-image').val(''), s('.delete-chart-image').css('display', 'none')), alert(t.msg);}});});}, closeSizeChartModal: function(){s('div#md-size-chart-modal .remodal-close').click(function(){var e=a.getElementById('md-size-chart-modal');s('.chart-container').remove(), e.style.display='none';}), s('div.md-size-chart-overlay').click(function(){var e=a.getElementById('md-size-chart-modal');s('.chart-container').remove(), e.style.display='none';});}, requiredSizeChartTitle: function(){s('body').on('submit.edit-post', '#post', function(){var e, t, a;if (e=s('input#post_type').val(), sizeChartScriptObject.size_chart_post_type_name===e&&0===(t=s('#title')).val().replace(/ /g, '').length) {return s('#size-chart-title-required-msg').length||(a=sizeChartScriptObject.size_chart_post_title_required, s('<div/>', {id: 'size-chart-title-required-msg'}).appendTo('div#titlewrap'), s('<em/>', {text: a}).appendTo('#size-chart-title-required-msg'), s('input#title').css({border: '1px solid #c00', 'box-shadow': '0 0 2px rgb(204, 0, 0, 0.8)'})), s('#major-publishing-actions .spinner').hide(), s('#major-publishing-actions').find(':button, :submit, a.submitdelete, #post-preview').removeClass('disabled'), t.focus(), ! 1;}}), s('input#title').on('change', function(){s('#size-chart-title-required-msg').remove(), s('input#title').css({border: '1px solid #ddd'});});}, load: function(){}, resize: function(){}, scroll: function(){}};s(a).ready(i.init), s(e).on({load: i.load, resize: i.resize, scroll: i.scroll});}(jQuery, window, document);